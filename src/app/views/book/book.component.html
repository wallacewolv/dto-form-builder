<form [formGroup]="form" (ngSubmit)="onSubmit()" class="book-form">
  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Título</mat-label>
    <input matInput formControlName="title" />
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Autor</mat-label>
    <input matInput formControlName="author" />
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Preço</mat-label>
    <input matInput type="number" formControlName="price" />
  </mat-form-field>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Data de Publicação</mat-label>
    <input matInput type="date" formControlName="publishedDate" />
  </mat-form-field>

  <mat-slide-toggle formControlName="available">Disponível</mat-slide-toggle>

  <div formArrayName="genres">
    <label>Gêneros</label>
    <div *ngFor="let genreCtrl of genres.controls; let i = index">
      <mat-form-field appearance="outline" class="full-width">
        <input
          matInput
          [formControlName]="i"
          placeholder="Gênero {{ i + 1 }}"
        />
      </mat-form-field>
    </div>

    <button mat-button type="button" (click)="addGenre()">
      + Adicionar Gênero
    </button>
  </div>

  <button mat-raised-button color="primary" type="submit">Salvar Livro</button>
</form>
